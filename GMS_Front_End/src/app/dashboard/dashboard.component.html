<app-navigation></app-navigation>

<div class = "back-container ">
<!--  <div id="list">-->
  <div>
    <h5 id="form_header" class = "offset-1">GMS > Dashboard
        <img src="/assets/img/reload.png" width='18' (click)="refresh()"/>
    </h5>
<!--    <div class="containter offset-1">-->
    
    <div class = "offset-1">
        <div class="card-main">
            <h5>Daily Summary</h5>
            <hr/>
            <p class= "lastUpdated"><i>Last updated: {{currentDate}}</i></p>
            <table class="table table-striped">
                <tr>
                  <th>Influential Factors</th>
                  <th>Recommendation</th>
                  <th>General Criteria</th>
                <tr>
                  <td>Water</td>
                  <td class="table-color">{{sensor?.description}} liters </td>
                  <td>Around {{criteria?.criteriaWater}} liters a week</td>
                </tr>
                <tr>
                  <td>Sunshine</td>
                  <td class="table-color">{{criteria?.criteriaSunshine}} minutes</td>
                  <td>Around 60.0 minutes a day</td>
                </tr>
                <tr>
                  <td>Temperature</td>
                  <td class="table-color">{{criteria?.gapTemperature}} ({{sensor?.sensorTemp}}&#8451;)
                      </td>
                  <!-- <td>{{temp_gap}} &#8451;</td> -->
                  <td> {{criteria?.criteriaTemperature}}&#8451; is appropriate</td>
                </tr>
                <tr>
                  <td>Humidity</td>
                  <td class="table-color">{{criteria?.gapHumidity}} ({{sensor?.sensorHumid}}%)</td>
                  <td> {{criteria?.criteriaHumidity}}% or more is appropriate</td>
                </tr>
                <tr>
                  <td>Ventilation</td>
                  <td class="table-color">-</td>
                  <td>At least {{criteria?.criteriaVentilation}}hour or more</td>
                </tr>    
                <!-- <tr>
                    <td>Invader Alert</td>
                    <td>1 hour ago</td>
                    <td>Clear</td>
                </tr>                                -->
            </table>
        </div>

      <div class="card-main">
        <h5>Weather Information</h5>
        <hr>
        <!-- <button (click)="getWeatherData()" >Refresh Weather Info</button> -->
        <p class= "lastUpdated"><i>Last updated: {{currentDate}}</i></p>
        <table class="table table-striped">
          <tr>
            <th>Weather Factors</th>
            <th>Today's Status</th>
          </tr>
          <tr>
            <td>Location</td>
            <td>Vancouver, Canada
              <img [src] = "countryUrl" width = '30px'>
            </td>
          </tr>
          <tr>
            <td>Weather</td>
            <td>{{weather}}, {{weatherDescription}}
              <img [src] = "weatherUrl" width = '30px'>
            </td>
          </tr>
          <tr>
            <td>Area Temperature</td>
            <td>{{temp}}&#8451;, from {{temp_min}} &#8451; to {{temp_max}}&#8451;
              <img [src] = "temperatureUrl" width = '30px'>
            </td>
          </tr>
          <tr>
            <td>Area Humidity</td>
            <td>{{humidity}} %</td>
          </tr>
          <!-- <tr>
            <td>Local Pressure</td>
            <td>{{pressure}} hpa</td>
          </tr> -->
          <tr>
            <td>Wind</td>
            <td>{{wind}} m/s</td>
          </tr>      
        </table>
      </div>

      <div class="card-main motionCard">
        <h5>Recent Motion Detect Status</h5>
        <hr/>
        <p class= "lastUpdated"><i>Last updated: {{currentDate}}</i></p>
        <div>
          <table class="table table-striped">
            <tr>
              <th>Alert</th>
              <th>Detect Time</th>
              <th>Captured Image</th>
            </tr>
            <tr>
              <td>{{motionSensor.alert}}</td>
              <td>{{motionSensor.detectTime}} </td>
              <td>
                <img id="myImg" [src]="url" width="150px" height="100" 
                        alt={{motionSensor.detectTime}}>
                <div id="myModal" class="modal">
                    <span class="close">&times;</span>
                    <img class="modal-content" id="img01">
                    <div id="caption"></div>
                  </div>
              </td>
            </tr>

          </table>
        </div>
      </div>

      <div class="card-main roomCard">
        <h5>Recent Room Status</h5>
        <hr/>
        <p class= "lastUpdated"><i>Last updated: {{currentDate}}</i></p>
        <div >
          <table class="table table-striped">
<!--              <th>Number</th>-->
              <tr>
                <th>Room Temperature</th>
                <th>Room Humidity</th>
                <th>Timestamp</th>
              </tr>
              <tr>
<!--                <td>{{sensor.id}}</td>-->
                <td>{{sensor.sensorTemp}} &#8451; </td>
                <td>{{sensor.sensorHumid}} %</td>
                <td>{{sensor.dateTime}} </td>
              </tr>
          </table>
        </div>
      </div>


<!--      <div class="card" style="width:24rem">-->
<!--        <div class="card-body">-->
<!--          <form [formGroup]="formTemplate" (submit)="onSubmit(formTemplate.value)">-->
<!--            <div class="text-center">-->
<!--&lt;!&ndash;              <img src="/assets/img/default_statistics.png" width="200px" height="200px">&ndash;&gt;-->
<!--              <img [src]="imgSrc" width="200px" height="200px"-->
<!--                (click)="fileUploader.click()">-->
<!--            </div>-->


<!--            <div class="form-group">-->
<!--              <label>Select file to upload</label>-->
<!--              <input type="file" accept="image/*" class="form-control" #fileUploader formControlName="imageUrl"-->
<!--                (change)="showPreview($event)">-->
<!--              <div class="text-danger" *ngIf="isSubmitted && formControls.imageUrl.errors?.required"> This file is required. </div>-->
<!--            </div>-->

<!--            <div class="form-group">-->
<!--              <input class="form-control" formControlName="caption" placeholder="Status">-->
<!--              <div class="text-danger" *ngIf="isSubmitted && formControls.caption.errors?.required"> This file is required. </div>-->
<!--            </div>-->

<!--            <div class="form-group">-->
<!--              <select formControlName="category" class="form form-control">-->
<!--                <option value="type">type</option>-->
<!--                <option value="time">time</option>-->
<!--              </select>-->
<!--            </div>-->

<!--            <div class="form-row">-->

<!--              <div class="form-group col-md-6">-->
<!--                <a routerLink="/motionSensorHistory" class="btn btn-success btn-block float-right">-->
<!--                  Go to list-->
<!--                </a>-->
<!--              </div>-->

<!--              <div class="form-group col-md-6">-->
<!--                <button type="submit" class="btn btn-success btn-block float-right">-->
<!--                  Submit-->
<!--                </button>-->
<!--              </div>-->
<!--            </div>-->
<!--          </form>-->

<!--        </div>-->

<!--      </div>-->




    </div>
  </div>
</div>
